//EFM8BB3 Comp Arch First Project
//

//-----------------------------------------------------------------------------
// Includes
//-----------------------------------------------------------------------------
#include <SI_EFM8BB3_Register_Enums.h>
#include <InitDevice.h>

//-----------------------------------------------------------------------------
// Pin Definitions
//-----------------------------------------------------------------------------
SI_SBIT (DISP_EN, SFR_P3, 4);          // Display Enable
#define DISP_BC_DRIVEN                // 0 = Board Controller drives display
#define DISP_EFM8_DRIVEN 			// 1 = EFM8 drives display

SI_SBIT (S1, SFR_P2, 1);
SI_SBIT (S2, SFR_P2, 2);
SI_SBIT (S3, SFR_P2, 3);
SI_SBIT (S4, SFR_P2, 4);
SI_SBIT (S5, SFR_P2, 5);
SI_SBIT (S6, SFR_P3, 6);
//-----------------------------------------------------------------------------
// CLOCKPULSE
//-----------------------------------------------------------------------------

void clockPulse (void)
{
   enter_DefaultMode_from_RESET();

   DISP_EN = DISP_BC_DRIVEN 0;           // Display not driven by EFM8

   IE_EA = 1;                          // Enable global interrupts

   while((S5 = 0) && (S6 = 1)) {}                       // Spin forever
}
void main (void){
	S1 = 0;
	S2 = 0;
	S3 = 0;
	S4 = 1;
	S5 = 0;
	S6 = 1;
    clockPulse();

}
